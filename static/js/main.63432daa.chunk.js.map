{"version":3,"sources":["components/Header.js","db.js","components/CurrentCounter.js","components/AddCounter.js","components/CounterList.js","components/Content.js","components/Footer.js","App.js","index.js"],"names":["Header","className","db","Dexie","version","stores","counters","CurrentCounter","counterId","setCounterId","window","useState","counter","setCounter","useLiveQuery","where","equals","toArray","then","res","console","log","length","id","title","total","type","onClick","value","step","aria-describedby","required","isFinite","readOnly","href","update","confirm","delete","AddCounter","setCurrentCounter","setTitle","onSubmit","ev","preventDefault","add","x","addCounter","placeholder","onChange","target","CounterList","currentCounter","map","css","cssBg","cssDiv","cssCounter","Content","above","Footer","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uJASeA,EATA,WACX,OACI,sBAAKC,UAAU,mBAAf,UACE,2CACA,mBAAGA,UAAU,OAAb,+C,qBCFJC,EAAK,I,KAAIC,SAAM,qBACrBD,EAAGE,QAAQ,GAAGC,OAAO,CAAEC,SAAU,SAElBJ,QCsHAK,EAvHQ,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,aAEnCC,OAAOD,aAAeA,EAF+B,MAGvBE,mBAAS,MAHc,mBAG9CC,EAH8C,KAGrCC,EAHqC,KAIrDH,OAAOE,QAAUA,EACjBF,OAAOG,WAAaA,EACpB,IAAMP,EAAWQ,wBAChB,kBAAMZ,EAAGI,SAASS,MAAM,MAAMC,OAAOR,GAAWS,UAAUC,MAAK,SAAAC,GAK9D,OAJAC,QAAQC,IAAI,WAAYf,GACxBc,QAAQC,IAAI,wBAAyBF,GACjCA,EAAIG,QAAQb,EAAaU,EAAI,GAAGI,IAChCJ,EAAIG,QAAQT,EAAWM,EAAI,IACxBA,OAER,CAACX,IAGF,IAAKF,EAAU,OAAO,KACtB,IAAKA,EAASgB,OAAQ,OAAO,KAuD7B,OAFAF,QAAQC,IAAI,kCAAmCT,GAG9C,sBAAKX,UAAU,WAAf,UACC,oBAAIA,UAAU,OAAd,SAAsBW,GAAWA,EAAQY,QACzC,qBAAKvB,UAAU,mBAAf,SACC,sBAAKA,UAAU,YAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BW,GAAWA,EAAQa,QAC/C,sBAAMxB,UAAU,GAAhB,SACC,qBAAKA,UAAU,OAAf,SACC,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,sBAAf,SACC,wBACCA,UAAU,4BACVyB,KAAK,SACLC,QAzDa,WACrB,IAAMC,EAAK,2BACPhB,GADO,IAEViB,KAAMjB,EAAQiB,KAAO,IAEtBT,QAAQC,IAAI,iBAAkBT,EAAQiB,KAAMD,GAC5Cf,EAAWe,IAgDJ,iBAMD,uBACCF,KAAK,OACLzB,UAAU,2BACV6B,mBAAiB,6BACjBC,SAAS,GACTH,MAAQhB,GAAWoB,SAASpB,EAAQiB,MAAQjB,EAAQiB,KAAO,IAC3DI,UAAU,IAGX,qBAAKhC,UAAU,qBAAf,SACC,wBACCA,UAAU,4BACVyB,KAAK,SACLC,QAlFa,WACrB,IAAMC,EAAK,2BACPhB,GADO,IAEViB,KAAMjB,EAAQiB,KAAO,IAEtBT,QAAQC,IAAI,iBAAkBT,EAAQiB,KAAMD,GAC5Cf,EAAWe,IAyEJ,wBASJ,wBAAQM,KAAK,IAAIjC,UAAU,6BAA6B0B,QA7DnC,WAAO,IACxBJ,EAAYX,EAAZW,GAAIM,EAAQjB,EAARiB,KACLJ,EAAQb,EAAQa,MAAQI,EAC9BT,QAAQC,IAAR,4BAAiCE,EAAjC,sBAAiDM,EAAjD,iBAA8DjB,EAAQa,MAAtE,eAAkFA,IAClFvB,EAAGI,SAAS6B,OAAOZ,EAAI,CAACE,QAAOI,SAAOX,MAAK,SAACC,GAC3CC,QAAQC,IAAI,uBAwDV,uBACA,wBAAQa,KAAK,IAAIjC,UAAU,yBAAyB0B,QArDnC,WACfjB,OAAO0B,QAAQ,0CACnBlC,EAAGI,SAAS6B,OAAOvB,EAAQW,GAAI,CAC9BM,KAAM,EACNJ,MAAO,KAiDN,mBACA,wBAAQS,KAAK,IAAIjC,UAAU,sBAAsB0B,QA7C/B,WAChBjB,OAAO0B,QAAQ,yCACnBlC,EAAGI,SAAS+B,OAAOzB,EAAQW,KA2CzB,oBACA,wBAAQW,KAAK,IAAIjC,UAAU,8BAA8B0B,QAzEpC,WAAO,IACxBJ,EAAYX,EAAZW,GAAIM,EAAQjB,EAARiB,KACLJ,EAAQI,EAAOjB,EAAQa,MAC7BL,QAAQC,IAAR,4BAAiCE,EAAjC,sBAAiDM,EAAjD,iBAA8DjB,EAAQa,MAAtE,eAAkFA,IAClFvB,EAAGI,SAAS6B,OAAOZ,EAAI,CAACE,QAAOI,SAAOX,MAAK,SAACC,GAC3CC,QAAQC,IAAI,uBAoEV,gCCvEUiB,EAzCI,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,kBAAuB,EACjB5B,mBAAS,IADQ,mBACpCa,EADoC,KAC7BgB,EAD6B,KAgB3C,OACC,sBAAMvC,UAAU,GAAGwC,SAAU,SAAAC,GAC5BA,EAAGC,iBACHvB,QAAQC,IAAI,eACZG,GAlBiB,SAAAA,GAClBJ,QAAQC,IAAI,cACZ,IAAMT,EAAU,CACfY,QACAC,MAAO,EACPI,KAAM,GAGP3B,EAAGI,SACDsC,IAAIhC,GACJM,MAAK,SAAAK,GAAE,OAAIgB,EAAkBhB,MAC7BL,MAAK,SAAA2B,GAAC,OAAIL,EAAS,OAOXM,CAAWtB,IAHrB,SAKC,qBAAKvB,UAAU,OAAf,SACC,sBAAKA,UAAU,cAAf,UACC,uBACCyB,KAAK,OACLzB,UAAU,eACV8C,YAAY,qBACZhB,SAAS,GACTH,MAAOJ,EACPwB,SAAU,SAAAN,GAAE,OAAIF,EAASE,EAAGO,OAAOrB,UAEpC,qBAAK3B,UAAU,qBAAf,SACC,wBAAQA,UAAU,4BAA4ByB,KAAK,SAAnD,mCCCSwB,EAjCK,SAAC,GAAmD,IAAlD5C,EAAiD,EAAjDA,SAAU6C,EAAuC,EAAvCA,eAAgBZ,EAAuB,EAAvBA,kBAC/C,OACC,sBAAKtC,UAAU,2BAAf,UACC,qBAAIA,UAAU,yDAAd,UACC,sBAAMA,UAAU,aAAhB,sBACA,sBAAMA,UAAU,mCAAhB,SACEK,GAAYA,EAASgB,YAGxB,oBAAIrB,UAAU,kBAAd,SACEK,GAAYA,EAAS8C,KAAI,SAACxC,GAC1B,IAAMyC,EAAMzC,EAAQW,KAAO4B,EAAiB,eAAiB,GACvDG,EAAQ1C,EAAQW,KAAO4B,EAAiB,WAAa,eACrDI,EAAM,yDAAqDD,GAC3DE,EAAa5C,EAAQW,KAAO4B,EAAiB,eAAiB,aACpE,OAAQ,qBAEPlD,UAAWsD,EACX5B,QAAS,SAAAe,GAAE,OAAIH,EAAkB3B,EAAQW,KAHlC,UAKP,qBAAKtB,UAAWoD,EAAhB,SACC,oBAAIpD,UAAU,OAAd,SAAsBW,EAAQY,UAG/B,sBAAMvB,UAAWuD,EAAjB,SAA8B5C,EAAQa,UARjCb,EAAQW,SAYhB,cAAC,EAAD,CAAYgB,kBAAmBA,QCVnBkB,EAfC,WAAO,IAAD,EACa9C,mBAAS,GADtB,mBACdH,EADc,KACHC,EADG,KAEfH,EAAWQ,wBAAa,kBAAMZ,EAAGI,SAASS,MAAM,MAAM2C,MAAM,GAAGzC,aAErE,OACC,qBAAKhB,UAAU,MAAf,SACEK,GAAYA,EAASgB,OAAS,qCAC9B,cAAC,EAAD,CAAahB,SAAUA,EAAU6C,eAAgB3C,EAAW+B,kBAAmB9B,IAC/E,cAAC,EAAD,CAAgBD,UAAWA,EAAWC,aAAcA,OAC/C,cAAC,EAAD,CAAY8B,kBAAmB9B,OCNzBkD,EARA,WACb,OACE,wBAAQ1D,UAAU,8CAAlB,SACI,mBAAGA,UAAU,OAAb,yCCARS,OAAOR,GAAKA,EAgBG0D,MAdf,WACE,OACE,qBAAK3D,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC,EAAD,IAEA,cAAC,EAAD,IAEA,cAAC,EAAD,UCVR4D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.63432daa.chunk.js","sourcesContent":["const Header = () => {\n    return (\n        <div className=\"py-5 text-center\">\n          <h2>Hi buddy!</h2>\n          <p className=\"lead\">Count anything you want to...</p>\n        </div>\n    )\n}\n\nexport default Header;","import Dexie from 'dexie';\n\nconst db = new Dexie('MyReactCounterApp');\ndb.version(1).stores({ counters: '++id' });\n\nexport default db;","import {useState} from \"react\";\nimport { useLiveQuery } from \"dexie-react-hooks\";\nimport db from \"../db\";\n\nconst CurrentCounter = ({counterId, setCounterId}) => {\n\t// const [counterId, setCounterId] = useState(0);\n\twindow.setCounterId = setCounterId;\n\tconst [counter, setCounter] = useState(null);\n\twindow.counter = counter;\n\twindow.setCounter = setCounter;\n\tconst counters = useLiveQuery(\n\t\t() => db.counters.where('id').equals(counterId).toArray().then(res => {\n\t\t\tconsole.log('counters', counters);\n\t\t\tconsole.log('current counters rest', res); \n\t\t\tif (res.length) setCounterId(res[0].id);\n\t\t\tif (res.length) setCounter(res[0]);\n\t\t\treturn res;\n\t\t}),\n\t\t[counterId]\n\t)\n\n\tif (!counters) return null;\n\tif (!counters.length) return null;\n\n\tconst incrementStep = () =>  {\n\t\tconst value = {\n\t\t\t...counter,\n\t\t\tstep: counter.step + 1,\n\t\t}\n\t\tconsole.log('increment step', counter.step, value);\n\t\tsetCounter(value);\n\t}\n\n\tconst decrementStep = () =>  {\n\t\tconst value = {\n\t\t\t...counter,\n\t\t\tstep: counter.step - 1,\n\t\t}\n\t\tconsole.log('decrement step', counter.step, value);\n\t\tsetCounter(value);\n\t}\n\n\tconst incrementCounter = () => {\n\t\tconst {id, step} = counter;\n\t\tconst total = step + counter.total;\n\t\tconsole.log(`increment counter ${id} with step ${step} from ${counter.total} to ${total}`);\n\t\tdb.counters.update(id, {total, step}).then((res) => {\n\t\t\tconsole.log('counter updated');\n\t\t});\n\t}\n\n\tconst decrementCounter = () => {\n\t\tconst {id, step} = counter;\n\t\tconst total = counter.total - step;\n\t\tconsole.log(`decrement counter ${id} with step ${step} from ${counter.total} to ${total}`);\n\t\tdb.counters.update(id, {total, step}).then((res) => {\n\t\t\tconsole.log('counter updated');\n\t\t});\n\t}\n\n\tconst resetCounter = () => {\n\t\tif ( window.confirm('Confirm resetting the current counter') ) {\n\t\t\tdb.counters.update(counter.id, {\n\t\t\t\tstep: 1,\n\t\t\t\ttotal: 0\n\t\t\t});\n\t\t}\n\t}\n\n\tconst deleteCounter = () => {\n\t\tif ( window.confirm('Confirm deleting the current counter') ) {\n\t\t\tdb.counters.delete(counter.id);\n\t\t}\n\t}\n\n\tconsole.log('before returning CurrentCounter', counter);\n\n\treturn (\n\t\t<div className=\"col-md-8\">\n\t\t\t<h4 className=\"mb-3\">{counter && counter.title}</h4>\n\t\t\t<div className=\"card text-center\">\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h5 className=\"card-title\">{counter && counter.total}</h5>\n\t\t\t\t\t<form className=\"\">\n\t\t\t\t\t\t<div className=\"mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\" \n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={decrementStep}\n\t\t\t\t\t\t\t\t\t>-</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control text-center\" \n\t\t\t\t\t\t\t\t\taria-describedby=\"validatedInputGroupPrepend\" \n\t\t\t\t\t\t\t\t\trequired=\"\" \n\t\t\t\t\t\t\t\t\tvalue={(counter && isFinite(counter.step) ? counter.step : \"1\")} \n\t\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary\" \n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={incrementStep}\n\t\t\t\t\t\t\t\t\t>+</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</form>\n\t\t\t\t\t<button href=\"#\" className=\"btn btn-primary float-left\" onClick={decrementCounter}>Decrement</button>\n\t\t\t\t\t<button href=\"#\" className=\"btn btn-secondary mr-1\" onClick={resetCounter}>Reset</button>\n\t\t\t\t\t<button href=\"#\" className=\"btn btn-danger ml-1\" onClick={deleteCounter}>Delete</button>\n\t\t\t\t\t<button href=\"#\" className=\"btn btn-primary float-right\" onClick={incrementCounter}>Increment</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default CurrentCounter;","import React, {useState} from 'react';\nimport db from '../db';\n\nconst AddCounter = ({setCurrentCounter}) => {\n\tconst [title, setTitle] = useState(\"\");\n\tconst addCounter = title => {\n\t\tconsole.log('addCounter')\n\t\tconst counter = {\n\t\t\ttitle,\n\t\t\ttotal: 0,\n\t\t\tstep: 1\n\t\t}\n\n\t\tdb.counters\n\t\t\t.add(counter)\n\t\t\t.then(id => setCurrentCounter(id))\n\t\t\t.then(x => setTitle(\"\"))\n\t}\n\n\treturn (\n\t\t<form className=\"\" onSubmit={ev => {\n\t\t\tev.preventDefault();\n\t\t\tconsole.log('form submit');\n\t\t\ttitle && addCounter(title);\n\t\t}}>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tplaceholder=\"Count something...\" \n\t\t\t\t\t\trequired=\"\" \n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev => setTitle(ev.target.value)} \n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t<button className=\"btn btn-outline-secondary\" type=\"submit\">Add counter</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t\t</form>\n\t)\n}\n\nexport default AddCounter;\n","import React, {useState} from 'react';\nimport db from '../db';\nimport AddCounter from './AddCounter.js'\n\nconst CounterList = ({counters, currentCounter, setCurrentCounter}) => {\n\treturn (\n\t\t<div className=\"col-md-4 order-md-2 mb-4\">\n\t\t\t<h4 className=\"d-flex justify-content-between align-items-center mb-3\">\n\t\t\t\t<span className=\"text-muted\">Counters</span>\n\t\t\t\t<span className=\"badge badge-secondary badge-pill\">\n\t\t\t\t\t{counters && counters.length}\n\t\t\t\t</span>\n\t\t\t</h4>\n\t\t\t<ul className=\"list-group mb-3\">\n\t\t\t\t{counters && counters.map((counter) => {\n\t\t\t\t\tconst css = counter.id === currentCounter ? \"text-success\" : \"\";\n\t\t\t\t\tconst cssBg = counter.id === currentCounter ? \"bg-light\" : \"lh-condensed\";\n\t\t\t\t\tconst cssDiv = `list-group-item d-flex justify-content-between ${cssBg}`;\n\t\t\t\t\tconst cssCounter = counter.id === currentCounter ? \"text-success\" : \"text-muted\";\n\t\t\t\t\treturn (<li \n\t\t\t\t\t\tkey={counter.id} \n\t\t\t\t\t\tclassName={cssDiv}\n\t\t\t\t\t\tonClick={ev => setCurrentCounter(counter.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={css}>\n\t\t\t\t\t\t\t<h6 className=\"my-0\">{counter.title}</h6>\n\t\t\t\t\t\t\t{ /* <small className=\"text-muted\">Count is: {counter.total}</small> --> */ }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span className={cssCounter}>{counter.total}</span>\n\t\t\t\t\t</li>)\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<AddCounter setCurrentCounter={setCurrentCounter} />\n\t\t</div>\n\t)\n}\n\nexport default CounterList;","import {useState} from 'react';\nimport {useLiveQuery} from 'dexie-react-hooks';\nimport CurrentCounter from './CurrentCounter.js';\nimport CounterList from './CounterList.js';\nimport db from '../db';\nimport AddCounter from './AddCounter.js';\n\nconst Content = () => {\n\tconst [counterId, setCounterId] = useState(0);\n\tconst counters = useLiveQuery(() => db.counters.where(\"id\").above(0).toArray());\n\t\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t{counters && counters.length ? <>\n\t\t\t\t<CounterList counters={counters} currentCounter={counterId} setCurrentCounter={setCounterId}/>\n\t\t\t\t<CurrentCounter counterId={counterId} setCounterId={setCounterId}/>\n\t\t\t</> : <AddCounter setCurrentCounter={setCounterId}/>}\n\t\t</div>\n\t)\n\t\n}\n\nexport default Content;","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"my-5 pt-5 text-muted text-center text-small\">\n        <p className=\"mb-1\">&copy; 2021 Jamal Boulhous</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import Header from'./components/Header.js';\nimport Content from'./components/Content.js';\nimport Footer from'./components/Footer.js';\nimport db from './db.js';\n\nwindow.db = db;\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <Header />\n\n        <Content />\n        \n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}